<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>git初学 | Hexo</title>
  <meta name="author" content="John Doe">
  
  <meta name="description" content="[TOC]
git工作流程workspace (工作区)
程序员进行开发改动的地方  是你当前看到的  也是最新的
平常我们进行开发就是拷贝远程仓库中的一个分支  基于该分支进行开发  在开发过程中就是对工作区的操作

index/stage(暂存区)
.git目录下的index文件  暂存区会记录">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="git初学"/>
  <meta property="og:site_name" content="Hexo"/>

  
    <meta property="og:image" content=""/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Hexo</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article id="[post]-git初学" class="h-entry [post]" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2020-07-13T08:38:28.000Z"><a href="/2020/07/13/git初学/">2020-07-13</a></time>
      
      
  
    <h1 class="p-name title" itemprop="headline name">git初学</h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><h4 id="workspace-工作区"><a href="#workspace-工作区" class="headerlink" title="workspace (工作区)"></a>workspace (工作区)</h4><ul>
<li>程序员进行开发改动的地方  是你当前看到的  也是最新的</li>
<li>平常我们进行开发就是拷贝远程仓库中的一个分支  基于该分支进行开发  在开发过程中就是对工作区的操作</li>
</ul>
<h4 id="index-stage-暂存区"><a href="#index-stage-暂存区" class="headerlink" title="index/stage(暂存区)"></a>index/stage(暂存区)</h4><ul>
<li>.git目录下的index文件  暂存区会记录<code>git add</code>添加文件的相关信息(文件名、大小、<code>timestamp</code>…)  不报存文件实体  通过<code>id</code>指向每个文件实体</li>
<li>可以使用<code>git status</code>查看暂存区的状态 暂存区标记了你当前工作区中 哪些内容是被<code>git</code>管理的</li>
<li>当你完成某个需求或功能后需要提交到远程仓库  那么第一步就是通过<code>git add</code>先提交到暂存区 被<code>git</code>管理</li>
</ul>
<h4 id="repository-本地仓库"><a href="#repository-本地仓库" class="headerlink" title="repository(本地仓库)"></a>repository(本地仓库)</h4><ul>
<li>保存了对象被提交过的各个版本  比起工作区和暂存区的内容  它要更旧些</li>
<li><code>git commit</code>后同步index的目录树到本地仓库  方便从下一步通过<code>git push</code>同步本地仓库与远程仓库的同步</li>
</ul>
<h4 id="remote-远程仓库"><a href="#remote-远程仓库" class="headerlink" title="remote(远程仓库)"></a>remote(远程仓库)</h4><ul>
<li>远程仓库的内容可能被分布在多个地点的处于协作关系的本地仓库修改  因此它可能与本地仓库同步  也可能不同步  但是它的内容是最旧的</li>
</ul>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><ul>
<li>（1）任何对象都是在工作区中诞生和被修改</li>
<li>（2）任何修改都是从进入<code>index</code>区才开始被版本控制</li>
<li>（3）只有把修改提交到本地仓库  该修改才能在仓库中留下痕迹</li>
<li>（4）与协作者分享本地的修改  可以把他们<code>push</code>到远程仓库来共享</li>
</ul>
<h3 id="常用git命令"><a href="#常用git命令" class="headerlink" title="常用git命令"></a>常用git命令</h3><h4 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h4><ul>
<li><code>HEAD</code> 它始终指向当前所处分支的最新的提交的</li>
<li>你所处的分支变化了  或者产生了新的提交点  <code>HEAD</code>就会跟着改变</li>
</ul>
<h4 id="add"><a href="#add" class="headerlink" title="add"></a>add</h4><ul>
<li><code>add</code>相关命令主要实现将工作区修改的内容提交到暂存区  交给<code>git</code>管理</li>
<li><code>git add</code> 添加当前目录的所有文件到暂存区</li>
<li><code>git add &lt;dir&gt;</code> 添加指定目录到暂存区  包括子目录  例：<code>git add readme.md</code></li>
<li><code>git add &lt;file1&gt;</code>  添加指定文件到暂存区  例：<code>git add 文件名</code></li>
</ul>
<h4 id="commit"><a href="#commit" class="headerlink" title="commit"></a>commit</h4><ul>
<li><code>commit</code>相关命令主要实现将暂存区的内容提交到本地仓库  并使当前分支的<code>HEAD</code>向后移动一个提交点</li>
<li><code>git commit -m &lt;message&gt;</code>  提交暂存区到本地仓库  message说明信息</li>
<li><code>git commit &lt;file1&gt; -m &lt;message&gt;</code> 提交暂存区的指定文件到本地仓库  例：<code>git commit 文件.后缀 -m &quot;说明&quot;</code></li>
<li><code>git commit --amend -m &lt;message&gt;</code> 使用一次新的<code>commit</code>  替代上次提交</li>
</ul>
<h4 id="branch"><a href="#branch" class="headerlink" title="branch"></a>branch</h4><ul>
<li><code>git branch</code>    列出所有本地分支</li>
<li><code>git branch -r</code>  列出所有远程分支</li>
<li><code>git branch-a</code>  列出所有本地分支和远程分支</li>
<li><code>git branch &lt;branch-name&gt;</code>  新建一个分支  但仍停留在当前分支  例：<code>git branch 分支名</code></li>
<li><code>git checkout -b &lt;branch-name&gt;</code>  新建一个分支并切换到该分支</li>
<li><code>git branch --track &lt;branch&gt; &lt;remote-branch&gt;</code>  新建一个分支  与指定的远程分支建立追踪关系</li>
<li><code>git checkout &lt;branch-name&gt;</code>  切换到指定分支并更新工作区</li>
<li><code>git branch -d &lt;branch-name&gt;</code>  删除分支</li>
<li><code>git push origin --delete &lt;branch-name&gt;</code>  删除远程分支</li>
</ul>
<h4 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h4><ul>
<li>merge命令把不同的分支合并起来</li>
<li><code>git fetch &lt;remote&gt;</code>  <code>merge</code>之前先拉一下远程仓库最新代码</li>
<li><code>git merge &lt;branch&gt;</code>  合并指定分支到当前分支  例：<code>git merge 分支名</code></li>
<li>一般在<code>merge</code>之后  会出现<code>conflict</code> 需要针对冲突情况  手动解决冲突  主要是因为两个用户修改了同一文件的同一块区域</li>
</ul>
<h4 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h4><ul>
<li><code>rebase</code>称为衍合  是合并的另外一种选择</li>
<li>在开始阶段  我们处于new分支上  执行<code>git rebase dev</code>  那么<code>new</code>分支上新的<code>commit</code>都在<code>master</code>分支上重演一遍  最后<code>checkout</code>切换回<code>new</code>分支  这点和<code>merge</code>是一样的  合并前后所处的分支没有改变</li>
<li><code>git rebase dev</code> <code>new</code>分支想要站在dev的肩膀上继续下去  <code>rebase</code>  也需要手动解决冲突</li>
</ul>
<h5 id="rebase与merge的区别"><a href="#rebase与merge的区别" class="headerlink" title="rebase与merge的区别"></a>rebase与merge的区别</h5><ul>
<li><pre><code>初始状态
     D---E test
     /
A---B---C---F master

在 master 执行 git merge test 后
      D--------E
     /          \
A---B---C---F----G   test, master

在 master 执行 git rebase test 后
A---B---D---E---C&apos;---F&apos;   test, master</code></pre></li>
<li><p><code>merge</code>操作会生成一个新的节点  之前的提交分开显示  而<code>rebase</code>不会生成新的节点  是将两个分支融合成一个线性的提交</p>
</li>
<li><p>如果想要一个干净 没有<code>merge commit</code>的线性历史树  使用<code>rebase</code></p>
</li>
<li><p>如果想要保留完整的历史记录  并且避免重写<code>commit history</code>的风险  使用<code>merge</code></p>
</li>
</ul>
<h4 id="reset"><a href="#reset" class="headerlink" title="reset"></a>reset</h4><ul>
<li><code>reset</code>命令把当前分支指向另一个位置  并且相应的变动工作区和暂存区</li>
<li><code>git reset ——soft &lt;commit&gt;</code>  只改变提交点  暂存区和工作目录的内容都不变</li>
<li><code>git reset ——mixed &lt;commit&gt;</code> 改变提交点  同时改变暂存区的内容</li>
<li><code>git reset ——hard &lt;commit&gt;</code> 暂存区 工作区的内容都会被修改到与提交点完全一致的状态</li>
<li><code>git reset ——hard HEAD</code> 让工作区回到上次提交时的状态</li>
</ul>
<h4 id="revert"><a href="#revert" class="headerlink" title="revert"></a>revert</h4><ul>
<li><code>git revert</code> 用一个新提交来消除一个历史提交所做的任何修改</li>
</ul>
<h5 id="revert和reset的区别"><a href="#revert和reset的区别" class="headerlink" title="revert和reset的区别"></a>revert和reset的区别</h5><ul>
<li><code>git revert</code>是用一次新的<code>commit</code>来回滚之前的<code>commit</code> <code>git reset</code>是直接删除指定的<code>commit</code>。</li>
<li>在回滚这一操作上看，效果差不多。但是在日后继续<code>merge</code>以前的老版本时有区别。因为<code>git revert</code>是用一次逆向的<code>commit</code>中和之前的提交，因此日后合并老的<code>branch</code>时，导致这部分改变不会再次出现，减少冲突。但是<code>git reset</code>是之间把某些<code>commit</code>在某个<code>branch</code>上删除，因而和老的<code>branch</code>再次<code>merge</code>时，这些被回滚的<code>commit</code>应该还会被引入，产生很多冲突。</li>
<li><code>git reset</code>是把<code>HEAD</code>向后移动了一下，而<code>git revert</code>是<code>HEAD</code>继续前进，只是新的<code>commit</code>的内容和要<code>revert</code>的内容正好相反，能够抵消要被<code>revert</code>的内容。</li>
</ul>
<h4 id="push"><a href="#push" class="headerlink" title="push"></a>push</h4><ul>
<li>本地仓库分支到远程仓库分支  实现同步</li>
<li><code>git push &lt;remote&gt; &lt;branch&gt;</code>  上次本地指定分支到远程仓库</li>
<li><code>git push &lt;remote&gt; --force</code>  强行推送当前分支到远程仓库  即使有冲突</li>
<li><code>git push &lt;remote&gt; --all</code> 推送所有分支到远程仓库</li>
</ul>
<h4 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h4><ul>
<li><code>git status</code> 显示有变更的文件</li>
<li><code>git log</code> 显示当前分支的版本历史</li>
<li><code>git diff</code> 显示暂存区和工作区的差异</li>
<li><code>git diff HEAD</code>  显示工作区与当前分支最新<code>commit</code>之间的差异</li>
<li><code>git cherry-pick &lt;commit&gt;</code> 选择一个<code>commit</code> 合并进当前分支</li>
</ul>

      
    </div>
    <footer>
      
        
        
  
  <div class="tags">
    <a href="/tags/git/">git</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">Comments</h1>

  
      <div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=123456789012345";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

<div class="fb-comments" data-href="http://yoursite.com/2020/07/13/git%E5%88%9D%E5%AD%A6/index.html" data-num-posts="5" data-width="840" data-colorscheme="light"></div>
      
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="as_sitesearch" value="yoursite.com">
  </form>
</div>


  

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/JavaScript/">JavaScript</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2020 John Doe
  
</div>
<div class="clearfix"></div></footer>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/jquery.imagesloaded.min.js"></script>


<script src="/js/gallery.js"></script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
